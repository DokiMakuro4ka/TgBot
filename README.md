<div align="center">

# Telegram Sales Assistant Bot

</div>

<div align="center">

<table width="100%">
<tr>
<td align="center" width="50%"><b>üá∑üá∫ –û–ø–∏—Å–∞–Ω–∏–µ</b></td>
<td align="center" width="50%"><b>üá¨üáß Description</b></td>
</tr>
<tr>
<td align="justify" width="50%" style="text-align:justify;">

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç ‚Äî Telegram-–±–æ—Ç –¥–ª—è –∞–≤—Ç–æ—Å–∞–ª–æ–Ω–∞, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–∞–ø—Ä–æ—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ CRM-–¥–∞–Ω–Ω—ã—Ö –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —Ä–µ—à–µ–Ω–∏—è –∏–ª–∏ –¥–µ–ª–∞–µ—Ç –∞–ø—Å–µ–ª–ª —Å –ø–æ–º–æ—â—å—é –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞ (GPT). –ë–æ—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏—Å—Ç–æ—Ä–∏—é –¥–∏–∞–ª–æ–≥–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏–∑ CRM.

</td>
<td align="justify" width="50%" style="text-align:justify;">

This project is a Telegram bot for a car dealership. It uses user queries and CRM data to suggest solutions or make upsell offers with the help of AI (GPT). The bot saves each user's chat history and personalizes responses based on CRM data.

</td>
</tr>
</table>

---

<table width="100%">
<tr>
<td align="center" width="50%"><b>üá∑üá∫ –§–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞</b></td>
<td align="center" width="50%"><b>üá¨üáß Project Files</b></td>
</tr>
<tr>
<td align="justify" width="50%" style="text-align:justify;">

- <b>telegram_sales_bot.py</b> ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥ Telegram-–±–æ—Ç–∞, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å OpenAI –∏ CRM.
- <b>apikey.py</b> ‚Äî —Ñ–∞–π–ª, –≤ –∫–æ—Ç–æ—Ä–æ–º —Ö—Ä–∞–Ω–∏—Ç—Å—è API-–∫–ª—é—á –¥–ª—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã OpenAI/OpenRouter.
- <b>requirements.txt</b> ‚Äî —Å–ø–∏—Å–æ–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ (—Å–º. –Ω–∏–∂–µ).

</td>
<td align="justify" width="50%" style="text-align:justify;">

- <b>telegram_sales_bot.py</b> ‚Äî main Telegram bot code, integrates with OpenAI and CRM.
- <b>apikey.py</b> ‚Äî stores the API key for OpenAI/OpenRouter.
- <b>requirements.txt</b> ‚Äî dependencies needed to run the project (see below).

</td>
</tr>
</table>

---

<table width="100%">
<tr>
<td align="center" width="50%"><b>üá∑üá∫ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç</b></td>
<td align="center" width="50%"><b>üá¨üáß Quick Start</b></td>
</tr>
<tr>
<td align="justify" width="50%" style="text-align:justify;">

<b>1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π</b>

```sh
git clone https://github.com/DokiMakuro4ka/TgBot
cd (–≤–∞—à–∞ –ø–∞–ø–∫–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è)
```

<b>2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏</b>

```sh
pip install -r requirements.txt
```

<b>–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π requirements.txt:</b>
```
pyTelegramBotAPI
openai
```

<b>3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–ª—é—á–∏</b>

- –í —Ñ–∞–π–ª–µ <code>token_1.py</code> —É–∫–∞–∂–∏—Ç–µ –≤–∞—à OpenAI API –∫–ª—é—á:
  ```python
  API_KEY = "your-openai-api-key"
  ```
- –í —Ñ–∞–π–ª–µ <code>telegram_sales_bot.py</code> —É–∫–∞–∂–∏—Ç–µ —Ç–æ–∫–µ–Ω Telegram-–±–æ—Ç–∞:
  ```python
  TG_TOKEN = "your-telegram-bot-token"
  ```

<b>4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞</b>

```sh
python tg_bot_ai.py
```

</td>
<td align="justify" width="50%" style="text-align:justify;">

<b>1. Clone the repository</b>

```sh
git clone https://github.com/DokiMakuro4ka/TgBot
cd (your repository folder)
```

<b>2. Install dependencies</b>

```sh
pip install -r requirements.txt
```

<b>Minimal requirements.txt:</b>
```
pyTelegramBotAPI
openai
```

<b>3. Configure keys</b>

- In <code>token_1.py</code>, set your OpenAI API key:
  ```python
  API_KEY = "your-openai-api-key"
  ```
- In <code>telegram_sales_bot.py</code>, set your Telegram bot token:
  ```python
  TG_TOKEN = "your-telegram-bot-token"
  ```

<b>4. Run the bot</b>

```sh
python tg_bot_ai.py
```

</td>
</tr>
</table>

---

<table width="100%">
<tr>
<td align="center" width="50%"><b>üá∑üá∫ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–æ—Ç</b></td>
<td align="center" width="50%"><b>üá¨üáß How the bot works</b></td>
</tr>
<tr>
<td align="justify" width="50%" style="text-align:justify;">

- –ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–∏–º–µ—Ä CRM-–∑–∞–ø–∏—Å–∏.
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ª—é–±–æ–π —Ç–µ–∫—Å—Ç ‚Äî –±–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç, —É—á–∏—Ç—ã–≤–∞—è CRM-–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é.
- –î–ª—è —Å–±—Ä–æ—Å–∞ –∏—Å—Ç–æ—Ä–∏–∏ –¥–∏–∞–ª–æ–≥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É <b>/reset</b>.
- –ò—Å—Ç–æ—Ä–∏—è –¥–∏–∞–ª–æ–≥–∞ —Ö—Ä–∞–Ω–∏—Ç—Å—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ—Ç–¥–µ–ª—å–Ω–æ (–≤ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏).

</td>
<td align="justify" width="50%" style="text-align:justify;">

- After launch, the bot greets the user and shows a sample CRM record.
- The user sends any message ‚Äî the bot replies, taking CRM information into account.
- Use the <b>/reset</b> command to reset the dialog history.
- Each user's dialog history is stored separately (in memory).

</td>
</tr>
</table>

---

<table width="100%">
<tr>
<td align="center" colspan="2" style="width:100%"><b>üá¨üáß Sample CRM record used in the bot</b></td>
</tr>
<tr>
<td align="left" colspan="2" style="width:100%;text-align:left;">

```python
crm_record = {
    "name": "Alexey",
    "last_purchase": "Audi Q7",
    "budget": 20000000,
    "deal_status": "In progress"
}
```

</td>
</tr>
</table>

---

<table width="100%">
<tr>
<td align="center" width="50%"><b>üá∑üá∫ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</b></td>
<td align="center" width="50%"><b>üá¨üáß Security</b></td>
</tr>
<tr>
<td align="justify" width="50%" style="text-align:justify;">

<b>–ù–µ –ø—É–±–ª–∏–∫—É–π—Ç–µ —Å–≤–æ–∏ —Ä–µ–∞–ª—å–Ω—ã–µ API-–∫–ª—é—á–∏ –∏ —Ç–æ–∫–µ–Ω—ã Telegram-–±–æ—Ç–∞ –≤ –ø—É–±–ª–∏—á–Ω—ã—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è—Ö!</b>
- –î–æ–±–∞–≤—å—Ç–µ —Ñ–∞–π–ª <code>apikey.py</code> –≤ <code>.gitignore</code> –ø–µ—Ä–µ–¥ –ø—É–±–ª–∏–∫–∞—Ü–∏–µ–π.
- –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Ö—Ä–∞–Ω–∏—Ç—å –∫–ª—é—á–∏ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è.

</td>
<td align="justify" width="50%" style="text-align:justify;">

<b>Do not publish your real API keys or Telegram bot tokens in public repositories!</b>
- Add the <code>apikey.py</code> file to <code>.gitignore</code> before publishing.
- For production, it is recommended to store keys in environment variables.

</td>
</tr>
</table>

---

<table width="100%">
<tr>
<td align="center" width="50%"><b>üá∑üá∫ –í–æ–∑–º–æ–∂–Ω—ã–µ –¥–æ—Ä–∞–±–æ—Ç–∫–∏</b></td>
<td align="center" width="50%"><b>üá¨üáß Possible Improvements</b></td>
</tr>
<tr>
<td align="justify" width="50%" style="text-align:justify;">

- –ü–æ–ª—É—á–µ–Ω–∏–µ CRM-–¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ä–µ–∞–ª—å–Ω–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.
- –•—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –¥–∏–∞–ª–æ–≥–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç–∏.

</td>
<td align="justify" width="50%" style="text-align:justify;">

- Fetch CRM data from a real database.
- Add user authentication.
- Store dialog history in a database.
- Add multilingual support.

</td>
</tr>
</table>

</div>
